package Persistencia;

import java.sql.CallableStatement;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import Modelo.Producto;

public class BDCategoria {
		
//		Connection conexion = null;
//		Statement stmtSql;
//		ResultSet objRS;
//		
//		String ubicacion = "jdbc:mysql://localhost/secutel-erp?";
//		String usuario = "root";
//		String passwd = "1234";
//		
//		public void conectar() {
//			try {
//				Class.forName("com.mysql.jdbc.Driver").newInstance();
//			} catch (Exception ex) {
//				System.err.print("ClassNotFoundException: ");
//				System.err.println(ex.getMessage());
//			}
//
//			try {
//				conexion = DriverManager.getConnection(ubicacion+"user="+usuario+"&password="+passwd);
//				stmtSql = (Statement) conexion.createStatement();
//			}
//			catch (SQLException ex) {
//				System.err.print("Problema en la conexion: " + ex);		
//			}
//			
//		}
//		
//		public void cerrarConexion() throws SQLException{
//			conexion.close();
//		}

		private Connection conexion = null;
		private String usuario = "root";
		private String contraseña = "1234";

		private String ubicacion = "jdbc:mysql://localhost/secutel-erp?";

		public void conectar () {

			try {

				Class.forName("com.mysql.jdbc.Driver").newInstance();

				conexion = DriverManager.getConnection(ubicacion, usuario, contraseña);

				if (conexion != null) {

					System.out.println("conexion a base de datos exitosa");

				}

			} 

			catch (SQLException ex) {

				System.out.println("hubo un problema al intentar conectarse a la base.");

			}

			catch (ClassNotFoundException ex) {

				ex.printStackTrace();

			}

			catch (Exception ex) {

				System.err.println(ex.getMessage());

			}
		}

		public void ingresarProducto(Producto producto){

			try {

				String sp = "call ingresarproducto(?,?,?,?,?,?,?,?)";

				CallableStatement procedimiento = conexion.prepareCall(sp);

				procedimiento.setString(1, producto.getNombre());
				procedimiento.setString(1, producto.getNombre());
				procedimiento.setString(1, producto.getNombre());
				procedimiento.setString(1, producto.getNombre());
				procedimiento.setString(1, producto.getNombre());
				procedimiento.setString(1, producto.getNombre());
				procedimiento.setString(1, producto.getNombre());
				procedimiento.setString(1, producto.getNombre());

				procedimiento.execute();

			} catch (SQLException e) {

				

				e.printStackTrace();

			}

			

		}

	}


