package Vista;

import java.awt.GridLayout;
import java.util.Random;
import java.util.Vector;

import javax.swing.JButton;
import javax.swing.JFrame;

import MonroyRobelly.Control.Control_Ventana_Principal;

public class Ventana_Principal extends JFrame{
	
	Control_Ventana_Principal control;
	int MAX = 52;
	
	public Panel_Barajas panelC = new Panel_Barajas();
	public Panel_Control_Baraja panelO = new Panel_Control_Baraja ();
	public Panel_Animaciones panelE = new Panel_Animaciones();
	public PanelSup panelN = new PanelSup ();
	
	public Ventana_Principal () {
		
		control = new Control_Ventana_Principal(this);
		
		ventana();
		
		//panel norte
		panelN.setLayout(new GridLayout(4,0));
	
		//Panel Oeste	
		panelO.setLayout(new GridLayout(3,0));
			
		//Panel Central
		panelC.setLayout(new GridLayout(4,4));
			
		//panel Este
		panelE.setLayout(new GridLayout(3,0));
		
		
		this.getContentPane().add(panelO, "West");
		this.getContentPane().add(panelC, "Center");
		this.getContentPane().add(panelN, "North");
		this.getContentPane().add(panelE, "East");
		
		
		//eventos		
		panelO.btnOrdenar.addActionListener(control);
		panelO.btnBarajar.addActionListener(control);
	
		pack();
	}
	
	
	private void ventana() {
		
		this.pack();
		this.setLocationRelativeTo(null);
		this.setTitle("Juego de Cartas");
		this.setVisible(true);
		this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);
		this.setLocation(-10, 0);
		this.setResizable(false);
	}
	

	public void barajarBotones () {
		
		try {
			panelC.CargarBaraja();
			Vector <JButton> temporal = new Vector<JButton>(MAX);
			JButton boton = new JButton();
			
			for (int i = 0; i < temporal.capacity(); i++) {
				int k=new Random().nextInt(MAX-i);
				boton = panelC.cartas.get(k);
				temporal.add(boton);
				panelC.cartas.remove(k);
			}
			panelC.removeAll();
			for (int i = 0; i < temporal.capacity(); i++) {
				boton = temporal.get(i);
				panelC.cartas.add(boton);
			}
			panelC.MostrarBotones();
		} catch (Exception e) {		
		}
	}
	
	public void OrdenarBaraja() {
		panelC.CargarBaraja();
	}

}


